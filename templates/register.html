<form id="register-form">
    <input type="text" name="username" placeholder="Username" required>
    <input type="password" name="password" placeholder="Password" required>
    <input type="text" name="first_name" placeholder="First Name" required>
    <input type="text" name="last_name" placeholder="Last Name" required>
    <input type="date" name="date_of_birth" placeholder="Date of Birth" required>
    <input type="text" name="matric_number" placeholder="Matric Number (ADUN/--/--/---)" required>
    <input type="text" name="department" placeholder="Department" required>
    <input type="text" name="level" placeholder="Level (100L, 200L, 300L, 400L)" required>
    <input type="checkbox" name="is_admin"> Register as Admin
    <button type="submit">Register</button>
</form>

<script>
document.getElementById('register-form').onsubmit = async function(event) {
    event.preventDefault();
    const formData = new FormData(event.target);
    const data = Object.fromEntries(formData.entries());
    const response = await fetch('/register', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
    });
    const result = await response.json();
    if (response.ok) {
        alert('Registration successful');
    } else {
        alert('Error: ' + result.error);
    }
};
</script>
